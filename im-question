im消息收发可能存在的问题
1.阻塞及延迟  客户端发完消息后需要知道是否自己发送成功了，
2.消息可能会丢失
3.扩展性和灵活性限制
4.难以实现消息分发和排队

消息收发模型---引入kafka进行流量削峰和收发解耦
消息可靠性---ack确认
由下面四种保障构成：
1.传输保障（tcp）
2.确认机制
3.重试机制
4.消息顺序保障